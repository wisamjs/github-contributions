{"version":3,"sources":["library-dist.js"],"names":[],"mappings":"AAAA,AAAC,CAAA,UAAU,MAAM,EAAE,OAAO,EAAE;AAC1B,SAAO,OAAO,KAAK,QAAQ,IAAI,OAAO,MAAM,KAAK,WAAW,GAAG,MAAM,CAAC,OAAO,GAAG,OAAO,CAAC,OAAO,CAAC,SAAS,CAAC,EAAE,OAAO,CAAC,iBAAiB,CAAC,EAAE,OAAO,CAAC,SAAS,CAAC,CAAC,GAC3J,OAAO,MAAM,KAAK,UAAU,IAAI,MAAM,CAAC,GAAG,GAAG,MAAM,CAAC,CAAC,SAAS,EAAE,iBAAiB,EAAE,SAAS,CAAC,EAAE,OAAO,CAAC,GACvG,MAAM,CAAC,SAAS,GAAG,OAAO,CAAC,MAAM,CAAC,OAAO,EAAE,MAAM,CAAC,eAAe,EAAE,MAAM,CAAC,OAAO,CAAC,CAAA;CACnF,CAAA,CAAC,IAAI,EAAE,UAAU,OAAO,EAAE,eAAe,EAAE,OAAO,EAAE;AAAE,cAAY,CAAC;;AAElE,cAAY,CAAC;AACb,MAAI,CAAC,CAAC;;AAEN,WAAS,kBAAkB,GAAG;AAC5B,WAAO,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,EAAE,CAAC;GACvB;;AAED,WAAS,KAAK,CAAC,GAAG,EAAE;;AAElB,QAAI,KAAK,CAAC,GAAG,CAAC,EAAE;AACd,aAAO,GAAG,CAAC;KACZ;;AAED,QAAI,QAAQ,GAAG,GAAG,CAAC,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC;AACtC,WAAO,QAAQ,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAC;GAC/B;;AAED,WAAS,KAAK,CAAC,CAAC,EAAE;AAChB,WAAO,OAAO,CAAC,KAAK,QAAQ,CAAC;GAC9B;;AAED,WAAS,gBAAgB,CAAC,IAAI,EAAE;AAC9B,KAAC,GAAG,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AACvB,WAAO,CAAC,CAAC,iBAAiB,CAAC,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC,OAAO,EAAE,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;GAC1E;;AAED,WAAS,oBAAoB,GAAG,EAE/B;;AAED,MAAI,aAAa,GAAG;AAChB,oBAAgB,EAAE,gBAAgB;AAClC,wBAAoB,EAAE,oBAAoB;GAC3C,CAAC;;AAEJ,cAAY,CAAC;AACb,MAAI,GAAG,GAAG,OAAO,EAAE,CAAC;AACpB,MAAI,IAAI,GAAG,IAAI,CAAC;;AAEd,KAAG,CAAC,GAAG,CAAC,wBAAwB,EAAE,UAAU,GAAG,EAAE,GAAG,EAAE;AACpD,QAAI,MAAM,GAAG,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC;;AAE/B,mBAAe,CAAC,oBAAoB,GAAG,MAAM,CAAC,CAC3C,IAAI,CAAC,aAAa,CAAC,gBAAgB,CAAC,CACpC,IAAI,CAAC,UAAU,IAAI,EAAE;;AAEpB,SAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;KAChB,CAAC,CAAC;GACN,CAAC,CAAC;;AAEH,KAAG,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;;;AAIjB,MAAI,KAAK,GAAG,GAAG,CAAC;;AAElB,SAAO,KAAK,CAAC;CAEd,CAAC,CAAE","file":"library-dist.js","sourcesContent":["(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('express'), require('request-promise'), require('cheerio')) :\n  typeof define === 'function' && define.amd ? define(['express', 'request-promise', 'cheerio'], factory) :\n  global.MyLibrary = factory(global.express, global.request_promise, global.cheerio)\n}(this, function (express, request_promise, cheerio) { 'use strict';\n\n  'use strict';\n  var $;\n\n  function getTextFromElement() {\n    return $(this).text();\n  }\n\n  function toInt(str) {\n\n    if (isInt(str)) {\n      return str;\n    }\n\n    var cleanStr = str.replace(/\\D/g, '');\n    return parseInt(cleanStr, 10);\n  }\n\n  function isInt(x) {\n    return typeof x === 'number';\n  }\n\n  function getContributions(html) {\n    $ = cheerio.load(html);\n    return $('.contrib-number').map(getTextFromElement).toArray().map(toInt);\n  }\n\n  function getYearContributions() {\n\n  }\n\n  var githubScraper = {\n      getContributions: getContributions,\n      getYearContributions: getYearContributions\n    };\n\n  'use strict';\n  var app = express();\n  var port = 8081;\n\n    app.get('/contributions/:userId', function (req, res) {\n      var userId = req.params.userId;\n\n      request_promise('http://github.com/' + userId)\n        .then(githubScraper.getContributions)\n        .then(function (data) {\n          //TODO: data should be valid JSON\n          res.json(data);\n        });\n    });\n\n    app.listen(port);\n\n\n    //Expose app\n    var index = app;\n\n  return index;\n\n}));\n"],"sourceRoot":"/source/"}